<!DOCTYPE html>
<html lang="en">

<head>
	<title>MotoRace</title>

	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport"
		content="initial-scale=1, width=device-width, height=device-height, viewport-fit=cover, user-scalable=no">

	<style>
		body {
			margin: 0;
			padding: 0;
			overflow: hidden;
		}

		canvas {
			display: block;
		}
	</style>

	<script src="libs/pixi.js"></script>
	<script src="libs/matter.js"></script>
	<script src="js/main.js"></script>

	<script>
		let main = new Main();
		window.addEventListener('DOMContentLoaded', ()=>main.loadAssets());
	</script>
</head>

<body>
	<canvas id="game"></canvas>
	<script>
		/*let bx = 300;
        let by = 300;

        let wxA = bx + 100;
        let wyA = by + 50;

        let wxB = bx + -100;
        let wyB = by + 50;

        let wheelSize = 41;

        let engine = Matter.Engine.create();
        let group = Matter.Body.nextGroup(true);
        
        let moto = Matter.Composite.create({ label: 'Moto' });
        
        let body = Matter.Bodies.rectangle(bx, by, 200, 120, {
            collisionFilter: {
                group: group
            },
			chamfer: {
				radius: 60
			},
            density: 0.0002
        });

        let wheelA = Matter.Bodies.circle(wxA, wyA, wheelSize, {
            collisionFilter: {
                group: group
            },
            friction: 0.8
        });

        let wheelB = Matter.Bodies.circle(wxB, wyB, wheelSize, {
            collisionFilter: {
                group: group
            },
            friction: 0.8
        });

        let axelA = Matter.Constraint.create({
            bodyB: body,
            pointB: {x:100 , y:50},
            bodyA: wheelA,
            stiffness: 1,
            length: 0
        });

        let axelB = Matter.Constraint.create({
            bodyB: body,
            pointB: {x:-100 , y:50},
            bodyA: wheelB,
            stiffness: 1,
            length: 0
        });

        let ground = Matter.Bodies.rectangle(400, 600, 1000, 60, { 
            isStatic: true 
        });	
        
        Matter.Composite.add(moto, [
            body, 
            wheelA,
            wheelB,
            axelA,
            axelB
        ]);

        Matter.Composite.add(engine.world, [moto, ground]);
        
        let runner = Matter.Runner.create();       
        Matter.Runner.run(runner, engine);

		// create renderer
		var render = Matter.Render.create({
				element: document.body,
				engine: engine,
				options: {
					width: 800,
					height: 600,
					showAngleIndicator: true,
					//showCollisions: true
				}
			});

		Matter.Render.run(render);

		// fit the render viewport to the scene
		Matter.Render.lookAt(render, {
				min: { x: 0, y: 0 },
				max: { x: 800, y: 600 }
			});*/


	</script>
</body>

</html>